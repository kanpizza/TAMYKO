<!--
  Generated template for the AProfilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
      <button ion-button menuToggle>
          <ion-icon name="menu"></ion-icon>
        </button>
    <ion-title>ข้อมูลส่วนตัว</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <form [formGroup]="todo" (ngSubmit)="regisForm()" *ngFor="let u of user_list">
      <ion-item no-lines class="body">
        ชื่อ
      </ion-item>
      <ion-item>
        <ion-input type="text" formControlName="name_field" [(ngModel)]="u.firstname"></ion-input>
      </ion-item>

       <p ion-text *ngIf="!todo.controls.name_field.valid  && (todo.controls.name_field.dirty )" color="danger" >*กรุณากรอกชื่อให้ถูกต้อง</p>

      <ion-item no-lines class="body">
        นามสกุล
      </ion-item>
      <ion-item>
        <ion-input type="text" formControlName="lastname_field" [(ngModel)]="u.lastname"></ion-input>
      </ion-item>
      <p ion-text *ngIf="!todo.controls.lastname_field.valid  && (todo.controls.lastname_field.dirty )" color="danger" >*กรุณากรอกนามสกุลให้ถูกต้อง</p>
      <ion-item no-lines class="body">
      เบอร์โทรศัพท์
      </ion-item>
      <ion-item>
        <ion-input type="text" formControlName="tel_field" [(ngModel)]="u.tel"></ion-input>
      </ion-item>
      <p ion-text *ngIf="!todo.controls.tel_field.valid  && (todo.controls.tel_field.dirty )" color="danger" >*กรุณากรอกเบอร์โทรศัพท์ให้ถูกต้อง</p>
      <ion-item no-lines class="body">
        เลขบัตรประชาชน
      </ion-item>
      <ion-item>
        <ion-input type="text" formControlName="id_field" [(ngModel)]="u.citizen_id"></ion-input>
      </ion-item>
      <p ion-text *ngIf="!todo.controls.id_field.valid  && (todo.controls.id_field.dirty )" color="danger" >*กรุณากรอกบัตรประชาชนให้ถูกต้อง</p>
      <ion-item no-lines class="body">
        อีเมล์
      </ion-item>
      <ion-item>
        <ion-input  formControlName="email_field" [(ngModel)]="u.email" ></ion-input>
      </ion-item>
      <p ion-text *ngIf="!todo.controls.email_field.valid  && (todo.controls.email_field.dirty )" color="danger" >*กรุณากรอกอีเมล์ให้ถูกต้อง</p>
    <ion-item no-lines class="body">
        วันเกิด
    </ion-item>
    <ion-item>
      <ion-label>MM/DD/YYYY</ion-label>
      <ion-datetime displayFormat="MM/DD/YYYY" formControlName="myDate"[(ngModel)]="u.birth_date"></ion-datetime>
    </ion-item>
    <p ion-text *ngIf="!todo.controls.myDate.valid  && (todo.controls.myDate.dirty )" color="danger" >*ไม่สามารถใส่ตัวอักษรพิเศษได้</p>
    <ion-item no-lines class="body">
      ชื่อผู้ใช้
    </ion-item>
    <ion-item>
      <ion-input name formControlName="username_field" [(ngModel)]="u.username"></ion-input>
    </ion-item>
    <p ion-text *ngIf="!todo.controls.username_field.valid  && (todo.controls.username_field.dirty )" color="danger" >*กรุณากรอกชื่อผู้ใช้ให้ถูกต้อง</p>
    <ion-item no-lines class="body">
      รหัสผ่าน
    </ion-item>
    <ion-item>
      <ion-input pass type="password" formControlName="password_field" [(ngModel)]="password_field"></ion-input>
    </ion-item>
    <p ion-text *ngIf="!todo.controls.password_field.valid  && (todo.controls.password_field.dirty )" color="danger" >*กรุณากรอกรหัสผ่านให้ถูกต้อง</p>
    <ion-item no-lines class="body">
      ยืนยันรหัสผ่าน
    </ion-item>
    <ion-item>
      <ion-input confirmPass type="password" formControlName="confirm_password_filed"></ion-input>
    </ion-item>
    <p ion-text *ngIf="todo.controls.confirm_password_filed.touched && todo.hasError('mismatchedPasswords') && todo.controls.password_field.valid" color="danger" >*กรุณากรอกรหัสผ่านให้ตรงกัน</p>
   
    </form>
    <ion-col col-3 text-center>
      <div class="center">
        <button ion-button color="btn" (click)="submitUpdate()" >ยืนยัน</button>
      </div>
    </ion-col>
</ion-content>
